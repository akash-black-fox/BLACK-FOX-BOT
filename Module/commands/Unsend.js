module.exports.config = {
  name: 'unsend',
  aliases: ['uns', 'del', 'rm', 'delete'],
  description: 'Unsend bot message',
  credits: 'AKASH HASAN',
  usage: 'unsend (reply to bot message)',
  category: 'System',
  adminOnly: true,
  prefix: true,
  version: "1.0.0"
};

module.exports.run = async function({ api, event, send, config }) {
  const { messageReply, senderID } = event;
  
  if (!config.ADMINBOT.includes(senderID)) {
    return send.reply(`тХнтФАтФАтФАуАМ тЫФ ЁЭРГЁЭРДЁЭРНЁЭРИЁЭРДЁЭРГ уАНтФАтФАтФАтХо
тФВ
тФВ тЭМ ржЖржкржирж┐ рждрзЛ ржмрж╕ ржЖржХрж╛рж╢ ржирж╛!
тФВ    ржЖржорж╛рж░ ржорзЗрж╕рзЗржЬ ржбрж┐рж▓рж┐ржЯ ржХрж░рж╛рж░
тФВ    ржЕржзрж┐ржХрж╛рж░ ржЖржкржирж╛рж░ ржирж╛ржЗред
тФВ
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
  }
  
  if (!messageReply) {
    return send.reply(`тХнтФАтФАтФАуАМ тЪая╕П ЁЭРДЁЭРСЁЭРСЁЭРОЁЭРС уАНтФАтФАтФАтХо
тФВ
тФВ тЭМ ржХрзЛржи ржорзЗрж╕рзЗржЬ ржбрж┐рж▓рж┐ржЯ ржХрж░ржмрзЛ?
тФВ    рж╕рзЗржЯрж╛ рждрзЛ рж░рж┐ржкрзНрж▓рж╛ржЗ ржжрж┐рзЯрзЗ ржжрзЗржЦрж╛ржиред
тФВ
тФВ ЁЯСЙ ржЖржорж╛рж░ ржорзЗрж╕рзЗржЬрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржжрж┐рзЯрзЗ
тФВ    рж▓рж┐ржЦрзБржи: .unsend
тФВ
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
  }
  
  const botID = api.getCurrentUserID();
  
  if (messageReply.senderID !== botID) {
    return send.reply(`тХнтФАтФАтФАуАМ тЭМ ЁЭРЕЁЭРАЁЭРИЁЭРЛЁЭРДЁЭРГ уАНтФАтФАтФАтХо
тФВ
тФВ ржмрж╕, ржПржЯрж╛ рждрзЛ ржЖржорж╛рж░ ржорзЗрж╕рзЗржЬ ржирж╛!
тФВ ржЕржирзНржпрзЗрж░ ржорзЗрж╕рзЗржЬ ржбрж┐рж▓рж┐ржЯ ржХрж░рж╛рж░
тФВ ржХрзНрж╖ржорждрж╛ ржорж╛рж░рзНржХ ржЬрж╛ржХрж╛рж░ржмрж╛рж░рзНржЧ ржЖржорж╛ржХрзЗ
тФВ ржжрзЗрзЯ ржирж╛ржЗред ЁЯШТ
тФВ
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
  }
  
  try {
    await api.unsendMessage(messageReply.messageID);
  } catch (error) {
    return send.reply(`тЭМ ржбрж┐рж▓рж┐ржЯ ржХрж░рждрзЗ ржкрж╛рж░рж▓рж╛ржо ржирж╛ ржмрж╕! рж╣рзЯрждрзЛ ржорзЗрж╕рзЗржЬржЯрж╛ ржЕржирзЗржХ ржЖржЧрзЗрж░ред`);
  }
};