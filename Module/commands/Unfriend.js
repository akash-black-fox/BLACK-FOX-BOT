module.exports.config = {
  name: 'unfriend',
  aliases: ['removefriend', 'delfriend', 'unf'],
  description: 'Remove a user from friend list',
  credits: 'AKASH HASAN',
  usage: 'unfriend [uid/mention/reply]',
  category: 'Admin',
  adminOnly: true,
  prefix: true,
  version: "1.0.0"
};

module.exports.run = async function({ api, event, args, send, config, Users }) {
  const { senderID, mentions, messageReply } = event;
  
  if (!config.ADMINBOT.includes(senderID)) {
    return send.reply(`тХнтФАтФАтФАуАМ тЫФ ЁЭРГЁЭРДЁЭРНЁЭРИЁЭРДЁЭРГ уАНтФАтФАтФАтХо
тФВ
тФВ тЭМ ржПржХрзНрж╕рзЗрж╕ ржбрж┐ржирж╛ржЗржб!
тФВ
тФВ ржлрзНрж░рзЗржирзНржбрж▓рж┐рж╕рзНржЯ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛рж░
тФВ ржХрзНрж╖ржорждрж╛ рж╢рзБржзрзБ ржмрж╕ ржЖржХрж╛рж╢рзЗрж░ред
тФВ
тФВ ржЖржкржирж┐ ржирж┐ржЬрзЗрж░ ржХрж╛ржЬрзЗ ржпрж╛ржиред ЁЯШТ
тФВ
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
  }
  
  let uid = '';
  
  if (Object.keys(mentions).length > 0) {
    uid = Object.keys(mentions)[0];
  } else if (args[0] && /^\d+$/.test(args[0])) {
    uid = args[0];
  } else if (messageReply) {
    uid = messageReply.senderID;
  } else {
    return send.reply(`тХнтФАтФАтФАуАМ тЪая╕П ЁЭРДЁЭРСЁЭРСЁЭРОЁЭРС уАНтФАтФАтФАтХо
тФВ
тФВ тЭМ ржХрж╛ржХрзЗ ржЖржиржлрзНрж░рзЗржирзНржб ржХрж░ржмрзЛ?
тФВ
тФВ ЁЯСЙ ржорзЗржирж╢ржи ржжрж┐ржи ржЕржержмрж╛
тФВ    ржЖржЗржбрж┐ ржжрж┐ржиред
тФВ
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
  }
  
  try {
    await api.unfriend(uid);
    
    let name = 'Facebook User';
    try {
      name = await Users.getNameUser(uid);
    } catch {}
    
    return send.reply(`тХнтФАтФАтФАуАМ ЁЯЧСя╕П ЁЭРСЁЭРДЁЭРМЁЭРОЁЭРХЁЭРДЁЭРГ уАНтФАтФАтФАтХо
тФВ
тФВ ЁЯСд ЁЭРНЁЭРЪЁЭРжЁЭРЮ: ${name}
тФВ ЁЯЖФ ЁЭРФЁЭРИЁЭРГ : ${uid}
тФВ
тФВ ЁЯСЛ ржлрзНрж░рзЗржирзНржбрж▓рж┐рж╕рзНржЯ ржерзЗржХрзЗ ржЭрзЗржЯрж┐рзЯрзЗ
тФВ    ржмрж┐ржжрж╛рзЯ ржХрж░рж▓рж╛ржо ржмрж╕!
тФВ    ржЖржкржж ржмрж┐ржжрж╛рзЯ рж╣рж▓рзЛред ЁЯШО
тФВ
тФВ </> ЁЭРАЁЭРоЁЭРнЁЭРбЁЭРиЁЭРл: ЁЭРАЁЭРКЁЭРАЁЭРТЁЭРЗ ЁЭРЗЁЭРАЁЭРТЁЭРАЁЭРН
тХ░тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтХп`);
    
  } catch (error) {
    return send.reply(`тЭМ ржЖржиржлрзНрж░рзЗржирзНржб ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛! рж╣рзЯрждрзЛ рж╕рзЗ ржлрзНрж░рзЗржирзНржбрж▓рж┐рж╕рзНржЯрзЗржЗ ржирж╛ржЗред`);
  }
};